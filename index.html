<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LES ELUS POUR ENAM - LE CHOIX GAGNANT</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:linear-gradient(to right,#0d47a1,#1976d2);
color:#333;
}

/* HEADER */
header{
background:#0d47a1;
color:yellow;
padding:25px;
position:relative;
text-align:center;
}

header h2{
margin:0;
font-size:20px;
}

/* MENU SUR LA DEUXIEME LIGNE */
nav{
margin-top:10px;
}

nav a{
color:black;
margin:0 10px;
text-decoration:none;
font-weight:bold;
cursor:pointer;
}

/* PROFIL EN HAUT A DROITE */
.profile-container{
position:absolute;
top:124px;
right:0px;
text-align:right;
}

.profile-container img{
width:100px;
height:70px;
border-radius:10%;
border:3px solid white;
display:rig;
margin-bottom:1px;
}

/* CENTRAGE INSCRIPTION & CONNEXION */
.center-box{
display:flex;
justify-content:center;
align-items:center;
height:80vh;
}

.card{
background:green;
padding:30px;
border-radius:10px;
width:350px;
box-shadow:0 5px 20px rgba(0,0,0,0.3);
text-align:center;
}

input{
width:100%;
padding:10px;
margin:8px 0;
border-radius:5px;
border:1px solid #ccc;
}

button{
padding:10px 15px;
background:#0d47a1;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
width:100%;
margin-top:10px;
}

button:hover{
background:#08306b;
}

.section{
display:none;
padding:20px;
background:white;
margin:20px;
border-radius:8px;
}

footer{
text-align:center;
padding:10px;
background:#0d47a1;
color:white;
margin-top:20px;
}
</style>
</head>

<body>

<header>
<h2>LES ELUS POUR ENAM - LE CHOIX GAGNANT</h2>
<nav>
<a onclick="showSection('home')">Accueil</a>
<a onclick="showSection('contact')">Contactez-nous</a>
<a onclick="showSection('about')">A propos</a>
<a onclick="logout()">Déconnexion</a>
</nav>
</header>

<!-- IMAGE PROFIL -->
<div class="profile-container">
<img id="profileImg">
<input type="file" onchange="loadProfile(event)">
</div>

<!-- INSCRIPTION -->
<div id="register" class="center-box">
<div class="card">
<h3>Inscription</h3>
<input id="nom" placeholder="Nom">
<input id="prenom" placeholder="Prénom">
<input id="gmail" placeholder="Adresse Gmail">
<input type="password" id="password" placeholder="Mot de passe">
<button onclick="nextCode()">Suivant</button>

<div id="codeSection" style="display:none;">
<input id="code" placeholder="Code d’abonnement">
<button onclick="validateCode()">Valider</button>
</div>
<br>
<p>Déjà inscrit ?</p>
<button onclick="switchToLogin()">Connexion</button>
</div>
</div>

<!-- CONNEXION -->
<div id="login" class="center-box" style="display:none;">
<div class="card">
<h3>Connexion</h3>
<input id="loginMail" placeholder="Gmail">
<input type="password" id="loginPass" placeholder="Mot de passe">
<button onclick="login()">Se connecter</button>
<br><br>
<button onclick="switchToRegister()">Créer un compte</button>
</div>
</div>

<!-- ACCUEIL -->
<div id="home" class="section">
<h2>Bienvenue <span id="welcomeName"></span></h2>
<p>Choisissez une spécialité :</p>
<button onclick="alert('Ouverture rubriques...')">Culture générale</button>
<button onclick="alert('Ouverture rubriques...')">AASU</button>
<button onclick="alert('Ouverture rubriques...')">CASU</button>
<button onclick="alert('Ouverture rubriques...')">AISU</button>
<button onclick="alert('Ouverture rubriques...')">CISU</button>
</div>

<!-- CONTACT -->
<div id="contact" class="section">
<h3>Contactez-nous</h3>
<p><a href="https://www.facebook.com/etoileslibres" target="_blank">Page Facebook</a></p>
<p><a href="mailto:torodosacree@gmail.com">Nous écrire par Gmail</a></p>
<p><a href="https://wa.me/22664465484" target="_blank">Whatsapp</a></p>
</div>

<!-- A PROPOS -->
<div id="about" class="section">
<p>
Site de formation intensive au concours de l’ENAM.<br>
Concepteur : SONDE YOUSSOUF Attaché d’Administration Scolaire et Universitaire. 
Formateur informatique, bureautique et Développeur de site web et d’applications.
</p>
</div>

<footer>
@-YSON Production 2026-@
</footer>

<script>
let currentUser=null;

function switchToLogin(){
document.getElementById("register").style.display="none";
document.getElementById("login").style.display="flex";
}

function switchToRegister(){
document.getElementById("login").style.display="none";
document.getElementById("register").style.display="flex";
}

function nextCode(){
document.getElementById("codeSection").style.display="block";
}

function validateCode(){
let code=document.getElementById("code").value;
let days=0;

if(code==="lebonheur10") days=30;
else if(code==="jesuisadmis10") days=360;
else{
alert("Achetez votre code d’abonnement");
return;
}

let expiration=Date.now()+days*24*60*60*1000;

let user={
nom:nom.value,
prenom:prenom.value,
gmail:gmail.value,
password:password.value,
expiration:expiration
};

localStorage.setItem("user",JSON.stringify(user));
alert("Inscription réussie !");
switchToLogin();
}

function login(){
let user=JSON.parse(localStorage.getItem("user"));
if(!user) return alert("Aucun compte trouvé");

if(loginMail.value===user.gmail && loginPass.value===user.password){
if(Date.now()>user.expiration){
alert("Abonnement expiré");
return;
}
currentUser=user;
document.getElementById("welcomeName").innerText=user.nom;
document.getElementById("login").style.display="none";
document.getElementById("home").style.display="block";
}else{
alert("Identifiants incorrects");
}
}

function logout(){
currentUser=null;
alert("Déconnecté");
location.reload();
}

function showSection(id){
if(!currentUser && id==="home"){
alert("Veuillez vous connecter");
return;
}
document.querySelectorAll('.section').forEach(s=>s.style.display="none");
document.getElementById(id).style.display="block";
}

function loadProfile(event){
let reader=new FileReader();
reader.onload=function(){
profileImg.src=reader.result;
}
reader.readAsDataURL(event.target.files[0]);
}
</script>

</body>
</html>
